Search.setIndex({docnames:["api/modules","api/rate_limit","api/rate_limit.tests","api/tools","index","install","readme","testing","user"],envversion:{"sphinx.domains.c":1,"sphinx.domains.changeset":1,"sphinx.domains.cpp":1,"sphinx.domains.javascript":1,"sphinx.domains.math":2,"sphinx.domains.python":1,"sphinx.domains.rst":1,"sphinx.domains.std":1,sphinx:54},filenames:["api/modules.rst","api/rate_limit.rst","api/rate_limit.tests.rst","api/tools.rst","index.rst","install.rst","readme.rst","testing.rst","user.rst"],objects:{"":{rate_limit:[1,0,0,"-"],tools:[3,0,0,"-"]},"rate_limit.backend":{Backend:[1,1,1,""],RedisBackend:[1,1,1,""]},"rate_limit.backend.Backend":{is_available:[1,2,1,""],rate_limit:[1,2,1,""]},"rate_limit.backend.RedisBackend":{is_available:[1,2,1,""],rate_limit:[1,2,1,""]},"rate_limit.common":{Constants:[1,1,1,""],build_uri:[1,4,1,""],find_item_by_key_in_list:[1,4,1,""],is_none_or_unknown:[1,4,1,""],is_ratelimit_by_project_id:[1,4,1,""],is_unlimited:[1,4,1,""],key_func:[1,4,1,""],listitem_to_int:[1,4,1,""],load_config:[1,4,1,""],load_lua_script:[1,4,1,""],printable_timestamp:[1,4,1,""],to_int:[1,4,1,""]},"rate_limit.common.Constants":{blacklist_response:[1,3,1,""],content_type_html:[1,3,1,""],content_type_json:[1,3,1,""],header_ratelimit_limit:[1,3,1,""],header_ratelimit_remaining:[1,3,1,""],header_ratelimit_reset:[1,3,1,""],header_ratelimit_retry_after:[1,3,1,""],initiator_host_address:[1,3,1,""],initiator_project_id:[1,3,1,""],limes_api_uri:[1,3,1,""],limes_refresh_interval_seconds:[1,3,1,""],limes_service_type:[1,3,1,""],log_sleep_time_seconds:[1,3,1,""],max_sleep_time_seconds:[1,3,1,""],metric_errors_total:[1,3,1,""],metric_prefix:[1,3,1,""],metric_requests_blacklisted_total:[1,3,1,""],metric_requests_ratelimit_total:[1,3,1,""],metric_requests_unknown_classification:[1,3,1,""],metric_requests_whitelisted_total:[1,3,1,""],ratelimit_response:[1,3,1,""],target_project_id:[1,3,1,""],unknown:[1,3,1,""]},"rate_limit.errors":{ConfigError:[1,5,1,""],LimesError:[1,5,1,""],UnitConversionError:[1,5,1,""]},"rate_limit.log":{Logger:[1,1,1,""]},"rate_limit.log.Logger":{debug:[1,2,1,""],error:[1,2,1,""],info:[1,2,1,""],warning:[1,2,1,""]},"rate_limit.provider":{ConfigurationRateLimitProvider:[1,1,1,""],LimesRateLimitProvider:[1,1,1,""],RateLimitProvider:[1,1,1,""]},"rate_limit.provider.ConfigurationRateLimitProvider":{get_global_rate_limits:[1,2,1,""],get_local_rate_limits:[1,2,1,""],read_rate_limits_from_config:[1,2,1,""]},"rate_limit.provider.LimesRateLimitProvider":{get_global_rate_limits:[1,2,1,""],get_local_rate_limits:[1,2,1,""],list_ratelimits_for_projects_in_domain:[1,2,1,""]},"rate_limit.provider.RateLimitProvider":{get_global_rate_limits:[1,2,1,""],get_local_rate_limits:[1,2,1,""]},"rate_limit.rate_limit":{OpenStackRateLimitMiddleware:[1,1,1,""]},"rate_limit.rate_limit.OpenStackRateLimitMiddleware":{factory:[1,6,1,""],get_action_from_rate_limit_groups:[1,2,1,""],get_scope_action_target_type_uri_from_environ:[1,2,1,""],is_scope_blacklisted:[1,2,1,""],is_scope_whitelisted:[1,2,1,""],is_user_blacklisted:[1,2,1,""],is_user_whitelisted:[1,2,1,""]},"rate_limit.response":{BlacklistResponse:[1,1,1,""],RateLimitExceededResponse:[1,1,1,""],response_parameters_from_config:[1,4,1,""]},"rate_limit.response.BlacklistResponse":{set_environ:[1,2,1,""]},"rate_limit.response.RateLimitExceededResponse":{set_environ:[1,2,1,""],set_headers:[1,2,1,""]},"rate_limit.tests":{fake:[2,0,0,"-"],test_actiongroups:[2,0,0,"-"],test_limesratelimitprovider:[2,0,0,"-"],test_middleware:[2,0,0,"-"],test_parse_config:[2,0,0,"-"],test_response:[2,0,0,"-"],test_units:[2,0,0,"-"]},"rate_limit.tests.fake":{FakeApp:[2,1,1,""],FakeKeystoneclient:[2,1,1,""],FakeMemcache:[2,1,1,""],FakeServiceManager:[2,1,1,""],FakeSession:[2,1,1,""]},"rate_limit.tests.fake.FakeMemcache":{"delete":[2,2,1,""],decr:[2,2,1,""],get:[2,2,1,""],incr:[2,2,1,""],set:[2,2,1,""]},"rate_limit.tests.fake.FakeServiceManager":{list:[2,2,1,""]},"rate_limit.tests.fake.FakeSession":{get_token:[2,2,1,""]},"rate_limit.tests.test_actiongroups":{TestActionGroups:[2,1,1,""]},"rate_limit.tests.test_actiongroups.TestActionGroups":{is_setup:[2,3,1,""],setUp:[2,2,1,""],test_groups:[2,2,1,""],test_mapping:[2,2,1,""]},"rate_limit.tests.test_limesratelimitprovider":{TestOpenStackRateLimitMiddlewareWithLimes:[2,1,1,""]},"rate_limit.tests.test_limesratelimitprovider.TestOpenStackRateLimitMiddlewareWithLimes":{is_setup:[2,3,1,""],setUp:[2,2,1,""],test_list_ratelimits_for_projects_in_domain:[2,2,1,""]},"rate_limit.tests.test_middleware":{TestOpenStackRateLimitMiddleware:[2,1,1,""],headerlist_contains:[2,4,1,""],response_equal:[2,4,1,""]},"rate_limit.tests.test_middleware.TestOpenStackRateLimitMiddleware":{is_setup:[2,3,1,""],setUp:[2,2,1,""],test_get_rate_limit:[2,2,1,""],test_is_ratelimited_swift_local_container_update:[2,2,1,""],test_is_scope_blacklisted:[2,2,1,""],test_is_scope_whitelisted:[2,2,1,""]},"rate_limit.tests.test_parse_config":{TestParseConfig:[2,1,1,""]},"rate_limit.tests.test_parse_config.TestParseConfig":{test_load_lua_script:[2,2,1,""],test_load_swift_config:[2,2,1,""],test_parse_and_convert_to_per_seconds:[2,2,1,""],test_parse_and_convert_unit:[2,2,1,""]},"rate_limit.tests.test_response":{TestResponse:[2,1,1,""]},"rate_limit.tests.test_response.TestResponse":{test_custom_blacklistresponse_json:[2,2,1,""],test_custom_ratelimitexceededresponse_html:[2,2,1,""],test_default_blacklistresponse:[2,2,1,""],test_default_ratelimitexceededresponse_json:[2,2,1,""]},"rate_limit.tests.test_units":{TestUnits:[2,1,1,""]},"rate_limit.tests.test_units.TestUnits":{test_parse_sliding_window_rate_limit:[2,2,1,""]},"rate_limit.units":{Units:[1,1,1,""]},"rate_limit.units.Units":{DAY:[1,3,1,""],HOUR:[1,3,1,""],MILLISECOND:[1,3,1,""],MINUTE:[1,3,1,""],NANOSECOND:[1,3,1,""],SECOND:[1,3,1,""],get_conversion_factor:[1,3,1,""],parse:[1,3,1,""],parse_and_convert_to_per_seconds:[1,3,1,""],parse_sliding_window_rate_limit:[1,3,1,""]},rate_limit:{backend:[1,0,0,"-"],common:[1,0,0,"-"],errors:[1,0,0,"-"],log:[1,0,0,"-"],main:[1,4,1,""],provider:[1,0,0,"-"],rate_limit:[1,0,0,"-"],response:[1,0,0,"-"],tests:[2,0,0,"-"],units:[1,0,0,"-"]}},objnames:{"0":["py","module","Python module"],"1":["py","class","Python class"],"2":["py","method","Python method"],"3":["py","attribute","Python attribute"],"4":["py","function","Python function"],"5":["py","exception","Python exception"],"6":["py","classmethod","Python class method"]},objtypes:{"0":"py:module","1":"py:class","2":"py:method","3":"py:attribute","4":"py:function","5":"py:exception","6":"py:classmethod"},terms:{"10s":7,"1ns":5,"1st":[7,8],"20s":7,"2nd":[7,8],"3rd":7,"60r":8,"6th":7,"7th":7,"byte":7,"case":[2,8],"class":[1,2],"default":[1,5],"enum":1,"export":[5,7],"function":1,"int":[1,5],"long":[7,8],"return":[1,5,8],"while":8,For:8,The:[1,5,6,7,8],With:4,abl:5,accord:[5,7,8],account:[1,7],accuraci:5,action:[1,6,8],added:5,addit:[1,8],addition:8,addr:1,address:[1,6],advis:5,after:[1,5,8],afterward:[7,8],all:[5,8],allow:8,almost:7,also:[5,6],amount:8,ani:1,anoth:8,api:[5,6,7,8],app:1,appear:8,appli:5,applic:[1,5,8],assum:[7,8],attempt:[1,5,8],auth:7,auth_:7,authent:1,autodiscov:5,avail:[1,7],avoid:5,backend:[0,4,5,6],backend_host:5,backend_max_connect:5,backend_port:5,backend_timeout_second:5,base:[1,2,5,6],befor:[1,2,7,8],behaviour:[7,8],being:8,below:8,benchmark:7,between:7,blacklist:[1,8],blacklist_respons:1,blacklistrespons:1,block:1,bodi:1,bool:[1,5],brew:7,build:1,build_uri:1,burst:4,cach:5,cadf:[1,5,6,8],can:[1,5,6,7,8],cannot:1,capabl:8,catalog:5,cfg_file:1,check:1,choos:5,classif:[5,6],classifi:6,classmethod:1,client:[1,8],clock:5,clock_accuraci:5,code:1,com:5,combin:1,come:8,common:[0,4],compat:8,comput:1,concurr:[5,7],conf:1,config_fil:5,config_path:1,configerror:1,configur:[1,4,6,7,8],configurationratelimitprovid:1,connect:5,constant:1,contain:[1,7],contains_tupl:2,content:[0,4],content_typ:1,content_type_html:1,content_type_json:1,control:8,convers:1,convert:1,could:[1,7],creat:1,credenti:5,curl:8,current:[1,7,8],custom:1,dai:1,debug:1,decr:2,defin:[1,8],delai:[4,7],delet:[1,2],delta:2,describ:[1,6,8],descript:8,detail:[5,6,8],dictionari:1,differ:1,disabl:[5,8],dmtf:6,domain:1,domain_id:1,down:8,due:8,durat:[5,8],each:[5,7],effect:5,emit:[5,8],empty_item:1,enabl:6,endpoint:7,enforc:[1,5,6],entiti:1,environ:1,error:[0,4,8],errors_tot:1,especi:5,etc:1,everi:[5,8],exampl:[7,8],exce:[7,8],exceed:[7,8],except:1,exercis:2,expect:[2,7],factori:1,fail:1,fake:[0,1],fakeapp:2,fakekeystonecli:2,fakememcach:2,fakeservicemanag:2,fakesess:2,fallback:1,fals:[2,5],featur:5,fetch:1,file:[1,5],filenam:1,find:1,find_item_by_key_in_list:1,fine:8,fit:[5,8],fixtur:2,folder:1,foldernam:1,follow:[5,7,8],format:[1,8],found:[1,6],from:[1,5],get:[1,2,8],get_action_from_rate_limit_group:1,get_conversion_factor:1,get_global_rate_limit:1,get_local_rate_limit:1,get_scope_action_target_type_uri_from_environ:1,get_token:2,git:5,github:5,given:[1,5,8],global:[1,6,8],global_config:1,going:5,got:2,group:1,guid:[5,6],handl:[1,8],have:5,header:[1,7,8],header_ratelimit_limit:1,header_ratelimit_remain:1,header_ratelimit_reset:1,header_ratelimit_retry_aft:1,headerlist:[1,2],headerlist_contain:2,here:5,hereinaft:8,high:5,homebrew:7,hook:2,host:[1,5,6,8],hour:1,how:[6,8],howev:[5,7,8],html:1,http:[5,7,8],ident:1,identifi:1,identity_auth_url:5,idx:1,ignor:1,immedi:[5,8],incom:8,incr:2,index:[1,4],indic:[1,7,8],individu:5,info:1,inform:8,initi:1,initiator_host_address:[1,5],initiator_project_id:[1,5],instal:[4,6,7],instead:[5,8],integ:1,interfac:1,interpret:1,interv:[5,8],invalid:1,involv:5,is_avail:1,is_none_or_unknown:1,is_ratelimit_by_project_id:1,is_scope_blacklist:1,is_scope_whitelist:1,is_setup:2,is_unlimit:1,is_user_blacklist:1,is_user_whitelist:1,issu:7,item:1,its:[1,6],json:1,json_bodi:1,just:[7,8],kei:[1,2],key_func:1,key_to_check:1,keyston:[5,7],kwarg:1,label:8,less:7,let:8,level:8,lime:[1,5],limes_api_uri:[1,5],limes_domain_nam:5,limes_en:5,limes_password:5,limes_refresh_interval_second:[1,5],limes_service_typ:1,limes_user_domain_nam:5,limes_usernam:5,limeserror:1,limesratelimitprovid:1,limit:[1,5,7,8],list:[1,2],list_ratelimits_for_projects_in_domain:1,list_to_search:1,listitem_to_int:1,listth:1,load:[1,5,7],load_config:1,load_lua_script:1,local:[1,8],local_config:1,log:[0,4,5,8],log_sleep_time_second:[1,5],log_sleep_time_seoncd:1,logger:1,longer:[7,8],look:[1,7],lua:1,main:1,make:8,mani:[1,8],match:7,max:[1,5],max_delay_second:7,max_rate_str:1,max_sleep_time_second:[1,5,8],maxim:5,maximum:5,method:2,methodnam:2,metric:[4,5],metric_errors_tot:1,metric_prefix:1,metric_requests_blacklisted_tot:1,metric_requests_ratelimit_tot:1,metric_requests_unknown_classif:1,metric_requests_whitelisted_tot:1,middlewar:[1,5,7,8],might:[5,8],millisecond:1,minut:[1,8],miss:8,modul:4,more:[5,6],moreov:6,msg:1,multipl:[1,5],must:5,mycontain:7,name:[1,8],nanosecond:[1,5],need:7,neg:5,next:8,nodelai:7,non:1,none:1,now:7,number:[1,5,8],object:[1,2],obtain:[1,5,7],offer:7,one:[1,8],onli:7,openstack:[1,5,7,8],openstack_ratelimit:1,openstack_ratelimit_errors_tot:8,openstack_ratelimit_middlewar:5,openstack_ratelimit_requests_blacklisted_tot:8,openstack_ratelimit_requests_ratelimit_tot:8,openstack_ratelimit_requests_unknown_classification_tot:8,openstack_ratelimit_requests_whitelisted_tot:8,openstackapi:8,openstackratelimitmiddlewar:1,openstackuri:7,option:[1,7],order:8,origin:1,os_auth_token:7,osx:7,output:7,overwritten:1,packag:[0,4],page:4,paramet:[1,5],pars:1,parse_and_convert_to_per_second:1,parse_sliding_window_rate_limit:1,path:[1,5],per:[1,5,6,8],perform:5,pip:5,pipelin:4,place:1,pool:5,port:[1,5],possibl:8,post:7,prefix:5,prerequisit:4,printable_timestamp:1,process:[7,8],product_nam:1,project:[1,6,8],project_id:1,projectid:7,prometheu:[5,8],provid:[0,4,5,8],queri:[1,5],rais:1,random:7,rate:[1,5,7,8],rate_limit:[0,4],rate_limit_bi:5,rate_limit_respons:1,ratelimit:[1,8],ratelimit_bi:1,ratelimit_respons:1,ratelimitexceededrespons:1,ratelimitprovid:1,ratelimitrespons:1,raw:1,raw_valu:1,reach:7,read:[1,5,8],read_rate_limits_from_config:1,receiv:8,redi:[1,5,6],redisbackend:1,refresh:5,reject:[7,8],rel:7,reli:5,remain:[1,8],rep:7,replica:5,request:[1,4,5,6,7],requests_blacklisted_tot:1,requests_ratelimit_tot:1,requests_unknown_classification_tot:1,requests_whitelisted_tot:1,requir:6,reset:[1,8],respons:[0,4,5,8],response_config:1,response_equ:2,response_parameters_from_config:1,retri:[1,8],retry_aft:1,runtest:2,safe:1,same:8,sapcc:5,scenario:5,scope:[1,6,8],script:1,search:4,sec:7,second:[1,5,7,8],section:8,see:[5,8],send:[7,8],server:[1,7],servic:[1,5,6,8],service_nam:8,service_typ:[1,5],set:[1,2,5,8],set_environ:1,set_head:1,setup:2,shape:[6,7],should:[1,8],shown:8,sieg:7,sign:5,sinc:8,skip:5,sleep:5,slide:[1,8],slot:8,slow:8,sourc:1,specif:[1,5,6,8],specifi:[1,5],stabl:1,statsd:[5,8],statsd_host:5,statsd_port:5,statsd_prefix:5,statu:[1,8],status_cod:1,still:7,storag:1,store:[1,6],string:[1,5],submodul:[0,4],subpackag:[0,4],subsequ:7,successfulli:7,support:[1,5,6,8],suspend:[5,7,8],swift:[7,8],target:[1,6,8],target_project_id:[1,5],target_type_uri:[1,8],term:6,test:[0,1,4],test_actiongroup:[0,1],test_custom_blacklistresponse_json:2,test_custom_ratelimitexceededresponse_html:2,test_default_blacklistrespons:2,test_default_ratelimitexceededresponse_json:2,test_get_rate_limit:2,test_group:2,test_is_ratelimited_swift_local_container_upd:2,test_is_scope_blacklist:2,test_is_scope_whitelist:2,test_limesratelimitprovid:[0,1],test_list_ratelimits_for_projects_in_domain:2,test_load_lua_script:2,test_load_swift_config:2,test_map:2,test_middlewar:[0,1],test_parse_and_convert_to_per_second:2,test_parse_and_convert_unit:2,test_parse_config:[0,1],test_parse_sliding_window_rate_limit:2,test_respons:[0,1],test_unit:[0,1],testactiongroup:2,testcas:2,testopenstackratelimitmiddlewar:2,testopenstackratelimitmiddlewarewithlim:2,testparseconfig:2,testrespons:2,testunit:2,text:1,than:[7,8],them:8,thi:[1,5,6,7,8],thing:1,thu:7,time:[2,5,7,8],timeout:5,timestamp:1,to_int:1,token:[5,7],too:[1,8],tool:[0,4],toolkit:7,traffic:[6,7],transact:7,trigger:1,tupl:[1,6],type:[1,5,6,8],uid:1,under:7,unit:[0,4,5,8],unitconversionerror:1,unittest:2,unknown:1,unlimit:1,until:[5,8],updat:[1,7],uri:[1,5,6,8],used:[1,6],user:[1,4,5,6,7],user_id:1,user_to_check:1,uses:6,using:[1,5,7],uuid:1,valid:[7,8],valu:[1,2,7],varieti:7,variou:1,verifi:7,version:1,via:[1,5,8],volum:1,wait:8,warn:1,watcher:[5,6],webob:1,well:8,when:[1,8],whether:[1,7,8],which:[1,5,8],whitelist:[1,8],window:[1,8],within:[1,7,8],would:[7,8],wsgi:[4,6,8],yaml:1,your:[5,8]},titles:["Modules","rate_limit package","rate_limit.tests package","tools package","OpenStack Rate Limit Middleware API documentation","Installation","OpenStack Rate Limit Middleware","Testing","User documentation"],titleterms:{With:8,api:4,backend:1,burst:8,common:1,configur:5,content:[1,2,3],delai:8,doc8:[],document:[4,6,8],error:1,fake:2,indic:4,instal:5,limit:[4,6],log:1,metric:8,middlewar:[4,6],modul:[0,1,2,3],openstack:[4,6],packag:[1,2,3],pipelin:5,prerequisit:6,provid:1,rate:[4,6],rate_limit:[1,2],request:8,respons:1,submodul:[1,2],subpackag:1,tabl:4,test:[2,7],test_actiongroup:2,test_limesratelimitprovid:2,test_middlewar:2,test_parse_config:2,test_respons:2,test_unit:2,tool:3,unit:1,user:8,welcom:[],wsgi:5}})